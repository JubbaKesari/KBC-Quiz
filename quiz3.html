<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Quiz 3</title>
  <style>
    * { box-sizing: border-box; margin:0; padding:0 }
    body {
      background:#111; color:#eee; font-family:Arial,sans-serif;
      display:flex; align-items:center; justify-content:center;
      height:100vh; overflow:hidden;
    }
    #start-screen, #quiz {
      width:100%; max-width:700px;
      display:flex; flex-direction:column; align-items:center;
    }
    #quiz { display:none; }

    .header {
      background:#222; width:100%; padding:20px;
      display:flex; justify-content:space-between; align-items:center;
    }
    .title { color:#0ff; font-size:24px; }
    .level { color:lightgreen; }
    .timer { color:yellow; font-family:monospace; }

    .question {
      background:#1b1b1b; width:100%; padding:20px; text-align:center;
    }

    .options {
      display:flex; justify-content:space-around;
      width:100%; padding:20px 0;
    }
    .options button {
      background:#333; color:#eee; border:none;
      padding:10px 20px; font-size:16px;
      cursor:pointer; transition:0.2s;
    }
    .options button.selected {
      background:deepskyblue; box-shadow:0 0 8px deepskyblue;
    }

    #lockBtn, #nextBtn {
      padding:10px 20px; font-size:16px; margin:10px;
      border:none; cursor:pointer;
    }
    #lockBtn { background:orange; color:#000; }
    #nextBtn {
      background:lime; color:#000;
      display:none;
    }

    #message {
      background:#222; color:#f33; padding:12px;
      margin-top:10px; width:100%; text-align:center;
      display:none;
    }
  </style>
</head>
<body>

  <div id="start-screen">
    <p style="color:#aaa; cursor:pointer;">
      Click anywhere to start in fullscreen
    </p>
  </div>

  <div id="quiz">
    <div class="header">
      <span class="title">Quiz 3</span>
      <span class="level">Level – Easy</span>
      <span class="timer" id="timer">01:00</span>
    </div>

    <div class="question">
      Pointing to a lady, Rahul said, “She is the wife of my mother’s father’s only grandchild.”<br/><br/>
      How is that lady related to Rahul?
    </div>

    <div class="options">
      <button onclick="selectOpt(this)">Mother</button>
      <button onclick="selectOpt(this)">Sister</button>
      <button onclick="selectOpt(this)">Wife</button>
      <button onclick="selectOpt(this)">Daughter</button>
    </div>

    <button id="lockBtn" onclick="lockIt()">Lock Your Response</button>
    <div id="message">⏰ Time’s up!</div>
    <button id="nextBtn" onclick="goNext()">Next Quiz →</button>
  </div>

  <script>
    const start = document.getElementById('start-screen');
    const quiz  = document.getElementById('quiz');
    const timerEl = document.getElementById('timer');
    const msg     = document.getElementById('message');
    const nextBtn = document.getElementById('nextBtn');
    const lockBtn = document.getElementById('lockBtn');
    const opts    = Array.from(document.querySelectorAll('.options button'));
    let selected = null, locked = false, time=60, interval;

    start.addEventListener('click', async () => {
      await document.documentElement.requestFullscreen().catch(()=>{});
      start.style.display='none';
      quiz.style.display='flex';
      startTimer();
    }, { once:true });

    function startTimer(){
      interval = setInterval(()=>{
        const m = String(Math.floor(time/60)).padStart(2,'0');
        const s = String(time%60).padStart(2,'0');
        timerEl.textContent = `${m}:${s}`;
        if(time--===0) autoLock();
      },1000);
    }

    function selectOpt(btn){
      if(locked) return;
      opts.forEach(b=>b.classList.remove('selected'));
      btn.classList.add('selected');
      selected = btn.textContent;
    }

    function lockIt(){
      if(locked) return;
      if(!selected){
        msg.textContent = '❌ Please pick an option first.';
        msg.style.display = 'block';
        return;
      }
      locked = true;
      clearInterval(interval);
      revealResult(selected==='Wife');
    }

    function autoLock(){
      if(locked) return;
      locked = true;
      revealResult(false);
    }

    function revealResult(correct){
      opts.forEach(b=>{
        if(b.textContent==='Wife') b.style.background='green';
      });
      msg.textContent = 'Time’s up! Correct: Wife';
      msg.style.display='block';
      lockBtn.style.display='none';
      nextBtn.style.display='inline-block';
    }

    function goNext(){
      window.location.href='quiz4.html';
    }

    document.addEventListener('fullscreenchange',()=>{
      if(!document.fullscreenElement && !locked) autoLock();
    });
  </script>

</body>
</html>
